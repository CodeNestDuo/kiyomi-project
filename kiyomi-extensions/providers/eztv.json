{
  "id": "eztv",
  "displayName": "EZTV",
  "siteUrl": "https://eztvx.to",
  "iconUrl": "https://eztvx.to/favicon.ico",
  "type": "HTML_SCRAPE",
  "isAdult": false,
  "isSecure": true,
  "isPrivate": false,
  "isApiKeyRequired": false,
  "version": 1.0,
  "cautionReason": "",

  "categoryMap": {
    "All": ""
  },

  "searchUrlTemplate": "https://eztvx.to/search/{query}",

  "searchSteps": [
    // --- Step 1: Fetch Search Results Page (HTTP_REQUEST) ---
    {
      "stepType": "HTTP_REQUEST",
      "method": "GET",
      "urlKey": "searchUrlTemplate",
      "headers": {
        "Cookie": "layout=def_wlinks"
      }
    },

    // --- Step 2: MAP_RESULTS_GENERIC (Scrape Initial Data) ---
    {
      "stepType": "MAP_RESULTS_GENERIC",
      "rootSelector": "table.forum_header_border:last-of-type > tbody > tr:nth-child(n+3)",
      "isRootArray": false,

      "fields": {
        // ... (Title, Magnet, Info URL fields remain the same) ...
        
        "size_raw": { 
          "accessor": "td:nth-child(4)::text", 
          "accessorType": "CSS_SELECTOR"
        },
        // Seeds (td:nth-child(6) > font)
        "seeds": { 
          "accessor": "td:nth-child(6) font::text", 
          "accessorType": "CSS_SELECTOR",
          "conversionType": "INT" 
        },
        // Peers is hardcoded to 0 in the final mapping, so we skip extraction here.
        "publishDate": { 
          "accessor": "td:nth-child(5)::text", 
          "accessorType": "CSS_SELECTOR",
          "conversionType": "DATE_STRING"
        }
      },

      "postProcessors": [
        // CRITICAL FIX: Convert Human Readable Size to Bytes (Long)
        {
          "processorType": "FUNCTION_CALL",
          "functionName": "HUMAN_SIZE_TO_BYTES",
          "sourceKey": "size_raw",
          "targetKey": "size" // Overwrite the 'size' field with the converted Long
        },
        // Construct the full absolute URL
        {
          "processorType": "FUNCTION_CALL",
          "functionName": "CONSTRUCT_URL",
          "sourceKey": "detailsPath",
          "targetKey": "infoUrl",
          "extraSourceKey": "siteUrl"
        }
      ],

      "finalMapping": {
        "title": "{title}",
        "magnetUrl": "{magnetUrl}",
        "size": "{size}", // Mapped from the post-processor
        "seeds": "{seeds}",
        "peers": "0", // Hardcoded zero peer count
        "infoUrl": "{infoUrl}"
      }
    }
  ]
}
